databaseChangeLog:

- changeSet:
    id: 1529403181551-1
    author: sateesh
    changes:
      - addColumn:
          columns:
          - column:
              name: s2s_service_name
              type: varchar(255)
          tableName: payment

- changeSet:
    id: 1529403181551-2
    author: sateesh
    changes:
      - sql:
          splitStatements:
          sql: >
            UPDATE payment SET s2s_service_name = 'cmc' where service_type = 'Civil Money Claims';
            UPDATE payment SET s2s_service_name = 'divorce_frontend' where service_type = 'Divorce';
            UPDATE payment SET s2s_service_name = 'probate_frontend' where service_type = 'Probate';

- changeSet:
    id: 1536071035519-1
    author: tarun
    changes:
      - addColumn:
          columns:
          - column:
              name: reported_date_offline
              type: TIMESTAMP WITHOUT TIME ZONE
          tableName: payment

- changeSet:
    id: 1600000000000-2
    author: eduardo
    changes:
    - addColumn:
        columns:
        - column:
            name: service_callback_url
            type: varchar(2000)
        tableName: payment

- changeSet:
    id: 1529403181333-2
    author: sateesh
    changes:
      - sql:
          splitStatements:
          sql: >
            INSERT INTO payment_provider (name, description) VALUES ('pci pal', 'PCI PAL')

- changeSet:
    id: 1529403181333-3
    author: emagdalena
    changes:
    - sql:
        splitStatements:
        sql: >
          CREATE INDEX ix_date_upd_trunc ON payment ( date_trunc('seconds', date_updated));

- changeSet:
    id: 1529403181334-1
    author: mateuszs
    changes:
      changes:
        - createTable:
            columns:
            - column:
                autoIncrement: true
                constraints:
                  primaryKey: true
                  primaryKeyName: remissionsPK
                name: id
                type: INT
            - column:
                name: hwf_reference
                type: VARCHAR(255)
            - column:
                name: hwf_amount
                type: numeric(19, 2)
            - column:
                name: beneficiary_name
                type: VARCHAR(256)
            - column:
                name: ccd_case_number
                type: VARCHAR(255)
            - column:
                name: case_reference
                type: VARCHAR(255)
            - column:
                name: payment_group_reference
                type: VARCHAR(255)
            tableName: remissions

- changeSet:
    id: 1529403181334-2
    author: mateuszs
    changes:
      - createIndex:
          indexName: ix_remission_ccd_case_number
          tableName: remissions
          unique: false
          columns:
          - column:
              name: ccd_case_number
              type: varchar(255)

- changeSet:
    id: 1529403181334-3
    author: mateuszs
    changes:
      - createIndex:
          indexName: ix_remission_hwf_reference
          tableName: remissions
          unique: false
          columns:
          - column:
              name: hwf_reference
              type: varchar(255)

- changeSet:
    id: 1529403181334-5
    author: smathangi
    changes:
    - sql:
        splitStatements:
        sql: >
          INSERT INTO payment_status (name, description) VALUES ('decline', 'Payment declined');

- changeSet:
    id: 1529403181335-6
    author: smathangi
    changes:
    - createTable:
        tableName: telephony_callback
        columns:
        - column:
            name: payment_reference
            type: varchar(255)
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: payload
            type: text
